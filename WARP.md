# WARP.md

This file provides guidance to WARP (warp.dev) when working with code in this repository.

# re-svg TypeScript Library

A modern TypeScript library project built with ESM modules, using tsdown for building and vitest for testing. Currently based on the tsdown-starter template with placeholder functionality ready for implementation.

## Quick Commands

**Install dependencies:**
```bash
bun install
```

**Development with watch mode:**
```bash
bun run dev
# Starts tsdown in watch mode for automatic rebuilds on file changes
```

**Build the library:**
```bash
bun run build
# Generates dist/index.js and dist/index.d.ts using tsdown
```

**Run tests:**
```bash
bun run test
# Runs all tests with vitest in watch mode
```

**Type checking:**
```bash
bun run typecheck
# Type checks without emitting files using tsc --noEmit
```

**Release:**
```bash
bun run release
# Bumps version with bumpp and publishes to npm
```

## Project Structure

- **`src/`** - Source code directory containing the main library code
  - `index.ts` - Main entry point (currently contains placeholder function)
- **`tests/`** - Test files using vitest framework
  - `index.test.ts` - Main test file
- **`dist/`** - Build output directory (generated by tsdown)
  - `index.js` - Bundled JavaScript output
  - `index.d.ts` - TypeScript declaration files

**Key configuration files:**
- **`tsdown.config.ts`** - Build configuration defining entry points and output options
- **`tsconfig.json`** - TypeScript compiler options with strict settings and ESNext target
- **`vitest.config.ts`** - Test runner configuration
- **`package.json`** - Project metadata, scripts, and dependencies

## Development Workflow

This project uses **tsdown** as the build tool, which:
- Bundles TypeScript source code into a single JavaScript file
- Generates TypeScript declaration files (.d.ts)
- Supports watch mode for development (`bun run dev`)
- Uses rolldown internally for fast builds

**Testing** is handled by vitest with:
- Watch mode enabled by default
- ESM module support
- TypeScript integration

**Type checking** runs separately from building, allowing for fast iteration during development.

The project is configured as an **ESM module** with modern JavaScript features enabled.

## Getting Started

1. **Clone the repository** and navigate to the project directory
2. **Install dependencies**: `bun install`
3. **Verify setup**: `bun run test` to ensure all tests pass
4. **Start development**: `bun run dev` to enable watch mode
5. **Make changes** to `src/index.ts` and see automatic rebuilds
6. **Build for production**: `bun run build` and check the `dist/` directory

## Notes

- **Package Manager**: This project uses Bun as the preferred package manager (evident from `bun.lock`)
- **Current State**: Based on tsdown-starter template with placeholder code ready for actual implementation
- **Publishing**: Configured for public npm publishing with access set to "public"
- **Code Style**: Uses format-on-save in VSCode (configured in `.vscode/settings.json`)

**Key Tools Documentation:**
- [tsdown](https://github.com/sxzz/tsdown) - Modern TypeScript build tool
- [vitest](https://vitest.dev/) - Fast unit testing framework
- [Bun](https://bun.sh/) - Fast JavaScript runtime and package manager
